(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1c9f2fc8"],{"4f66":function(e,t,o){"use strict";o("beea")},beea:function(e,t,o){},d13f:function(e,t,o){"use strict";o.r(t);var n=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{attrs:{id:"menuMeet"}},[o("h1",[e._v("Meeting")]),o("div",{attrs:{id:"btnGroup"}},[o("button",{staticClass:"btn btn-info",on:{click:e.loadMeeting}},[e._v("Ingresar")]),o("button",{staticClass:"btn btn-info",attrs:{id:"closeWindow"},on:{click:e.closeWindow}},[e._v("Cerrar")])])])},s=[],i=o("1da1"),r=o("5530"),a=(o("96cf"),o("ac1f"),o("1276"),o("99af"),o("a15b"),o("393f")),c=o("2f62"),l=window.require("electron"),u=l.remote,g={data:function(){return{idMeet:"0wFYekXnq0dbG7jyJ70O",leaveUrl:"/close",apiKey:"7HoWJb-aTgipYLXX-uzn1w",signature:"N0hvV0piLWFUZ2lwWUxYWC11em4xdy43NzA5NjE1OTAwNy4xNjM3NjE4MzM4ODIxLjEuTkZadVlyOW5xZDdNVnRGZ3UwbTJEanluUkZJM2lDaTBTdXJpYlFVWGhwWT0=",meetingNumber:"",passWord:"",userName:"Michael Vega",userEmail:"",registrantToken:"",userId:null,isHost:!1,isMuted:!1,isVideo:!1}},computed:Object(r["a"])({},Object(c["b"])(["getMic","getCam","getLeave","getIsHost"])),created:function(){try{var e=u.app.url[0],t=e.split("?");if(t.length>0){this.idMeet=t[1];var o=t[2];this.signature=t[3],this.userName=t[4],console.log(this.idMeet,o,this.signature),this.ZoomMtg.setZoomJSLib("https://source.zoom.us/2.0.1/lib","/av"),this.ZoomMtg.preLoadWasm(),this.ZoomMtg.prepareWebSDK(),this.ZoomMtg.i18n.load("es-ES"),this.ZoomMtg.i18n.reload("es-ES")}else alert("No existen parámetros de conexión"),window.close()}catch(n){window.close()}},mounted:function(){this.ZoomMtg.inMeetingServiceListener("onUserJoin",(function(e){console.log("inMeetingServiceListener onUserJoin",e)})),this.ZoomMtg.inMeetingServiceListener("onActiveVideoUserChanged",(function(e){console.log("inMeetingServiceListener onActiveVideoUserChanged",e)}))},methods:{loadControls:function(){var e=this,t=this.$router.resolve({path:"/controls?idMeet=".concat(this.idMeet,"&userId=").concat(this.userId,"&isHost=").concat(this.isHost)}),o=setInterval((function(){var t=JSON.parse(localStorage.getItem("mic")),n=JSON.parse(localStorage.getItem("cam")),s=JSON.parse(localStorage.getItem("isLeave")),i=JSON.parse(localStorage.getItem("isHost"));console.log(t,n,s,i),e.micOnMeeting(t),e.camOnMeeting(n),s&&i?(e.endMeeting(),clearInterval(o)):s&&!i&&(e.leaveMeeting(),clearInterval(o))}),2e3);window.open(t.href,"_blank","height=760,width=350,top=10,left=990,navigationbar=no,location=no")},startMeeting:function(){var e=this;console.log(this.meetingNumber,this.userName,this.signature,this.apiKey,this.userEmail,this.passWord),document.getElementById("zmmtg-root").style.display="block",this.ZoomMtg.init({leaveUrl:this.leaveUrl,meetingInfo:["topic","host","enctype"],success:function(t){console.log("L65",t);var o=document.getElementsByClassName("joinWindowBtn")[0],n=document.getElementsByClassName("meeting-title")[0],s=document.createElement("button");s.setAttribute("class","btn btn btn-danger btn-block btn-lg"),s.textContent="Cancelar",s.addEventListener("click",(function(){e.closeWindow()})),o.parentNode.appendChild(s),o.textContent="Ingresar a la reunión",n.textContent="Colegium - Zoom";var i=localStorage.getItem(btoa("easy-local-storage"));console.log(i),e.ZoomMtg.join({meetingNumber:e.meetingNumber,userName:e.userName,signature:e.signature,apiKey:e.apiKey,userEmail:e.userEmail,passWord:e.passWord,success:function(t){document.getElementById("wc-footer").style.display="none",console.log("L75",t),e.getCurrentUser()},error:function(e){console.log(e)}})},error:function(e){console.log(e)}})},closeWindow:function(){window.close()},loadMeeting:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].prototype.getOneDocWithCollection("Meetings",e.idMeet);case 2:o=t.sent,n=o.data(),console.log(n),e.meetingNumber=n.idZoom,e.passWord=n.password,e.startMeeting();case 8:case"end":return t.stop()}}),t)})))()},getCurrentUser:function(){var e=this;this.ZoomMtg.getCurrentUser({success:function(t){console.log(t);var o=t.result.currentUser;e.userId=o.userId,e.isHost=o.isHost,e.isMuted=o.muted,localStorage.setItem("isHost",e.isHost),e.loadControls()},error:function(e){console.log(e)}})},cleanStorage:function(){localStorage.removeItem("mic"),localStorage.removeItem("cam"),localStorage.removeItem("isLeave"),localStorage.removeItem("isHost")},endMeeting:function(){var e=this;this.cleanStorage(),this.ZoomMtg.endMeeting({error:function(e){console.log(e,"Error en EndMeeting, usando LeaveMeeting!")},success:function(t){console.log(t,"Saliendo con EndMeeting..."),e.closeWindow()}})},leaveMeeting:function(){var e=this;this.cleanStorage(),this.ZoomMtg.leaveMeeting({error:function(e){console.log(e,"Error en LeaveMeeting")},success:function(t){console.log(t,"Saliendo con LeaveMeeting..."),e.closeWindow()}})},micOnMeeting:function(e){var t=this;this.ZoomMtg.getCurrentUser({success:function(o){var n=o.result.currentUser;t.userId=n.userId,t.isHost=n.isHost,t.isMuted=n.muted,localStorage.setItem("isHost",t.isHost),t.isMuted?(console.log("muted - mic",t.isMuted,e),e&&t.ZoomMtg.mute({userId:t.userId,mute:!1,error:function(e){console.log(e)},success:function(e){console.log(e),localStorage.setItem("mic",!1)}})):(console.log("muted - mic",t.isMuted,e),e&&t.ZoomMtg.mute({userId:t.userId,mute:!0,error:function(e){console.log(e)},success:function(e){console.log(e),localStorage.setItem("mic",!1)}}))},error:function(e){console.log(e)}})},camOnMeeting:function(e){document.getElementsByClassName("video-avatar__avatar")[0].style.background;e&&(document.getElementsByClassName("zm-btn send-video-container__btn")[0].click(),localStorage.setItem("cam","false"))}}},m=g,d=(o("4f66"),o("2877")),f=Object(d["a"])(m,n,s,!1,null,"0c5066f4",null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-1c9f2fc8.c0d2fbe0.js.map